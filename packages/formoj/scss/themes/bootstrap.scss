$formoj-label-margin-bottom: $label-margin-bottom !default;

@import '../formoj';

$formoj-form-appearance: 'card' !default;
$formoj-loading-appearance: 'spinner' !default;

.formoj--empty,
.formoj--finished
{
  @extend .card;
  // prevent loading to overlay to overflow border radius
  overflow: hidden;
  .formoj__content {
    @extend .card-body;
    display: flex;
    align-items: center;
  }
  .formoj__alert-wrapper {
    width: 100%;
  }
}

.fj-alert {
  @extend .alert;
  margin-bottom: 0;
  &--success {
    @extend .alert-success;
  }
  &--error {
    @extend .alert-danger;
  }
}

.fj-text,
.fj-textarea,
.fj-select {
  @extend .form-control;
}

.fj-button {
  @extend .btn;
  &--primary {
    @extend .btn-primary;
  }
  &--secondary {
    @extend .btn-secondary;
  }
}

.fj-form {
  &--card {
    @extend .card;
    .fj-form__header {
      @extend .card-header;
    }
    .fj-form__content {
      @extend .card-body;
      position: relative;
    }
    .fj-form__description {
      margin-bottom: 0;
    }
    .fj-heading {
      border-bottom: $formoj-heading-border-width solid transparent;
      &::after {
        content: "";
        position: absolute;
        left: 0;
        right: 0;
        border-top: $formoj-heading-border-width solid $formoj-heading-border-color;
      }
    }
  }
  @if($formoj-form-appearance == 'card') {
    @extend .fj-form--card;
  }
}

.fj-section {
  &__field {
    @extend .form-group;
  }
}

.fj-field {
  &--invalid {
    .form-control, .form-check-input {
      @extend .is-invalid;
    }

  }
  &__help {
    @extend .form-text;
    @extend .text-muted;
  }
  &__error {
    @extend .invalid-feedback;
    display: block;
  }
}

.fj-loading {
  &__indicator {
    color: $formoj-loading-color;
  }
  &--spinner {
    .fj-loading__indicator {
      @extend .spinner-grow;
    }
  }
  @if($formoj-loading-appearance == 'spinner') {
    @extend .fj-loading--spinner;
  }
}

.fj-checkboxes {
  &__check {
    @extend .form-check;
  }
  &__check-input {
    @extend .form-check-input;
  }
  &__check-label {
    @extend .form-check-label;
  }
}